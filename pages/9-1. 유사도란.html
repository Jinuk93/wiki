<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유사도 (Similarity) 개념 정리</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']]
          },
          svg: {
            fontCache: 'global'
          }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
    <style>
        /* 1. Core Styles */
        :root {
            --color-text-primary: #212529;
            --color-text-secondary: #6c757d;
            --color-border: #dee2e6;
            --color-bg-white: #ffffff;
            --color-bg-subtle: #f8f9fa; /* 연한 회색 (Conceptual Card 배경) */
            --color-bg-navy-light: #f5f7fa; /* 연한 네이비 (<pre> 태그 배경) */
            --font-family-base: 'Noto Sans KR', sans-serif;
        }

        body {
            font-family: var(--font-family-base);
            font-size: 1rem;
            line-height: 1.7;
            background-color: var(--color-bg-white);
            color: var(--color-text-primary);
            margin: 0;
            padding: 4rem 1rem;
            -webkit-font-smoothing: antialiased;
        }

        /* 2. Typography */
        h1, h2, h3, h4 {
            font-weight: 700;
            line-height: 1.3;
            margin-top: 0;
        }
        h1 { font-size: 2.5rem; font-weight: 900; margin-bottom: 0.5rem; }
        h2 { font-size: 2rem; margin-bottom: 0.75rem; text-align: center; }
        h3 { font-size: 1.5rem; margin-top: 0; margin-bottom: 1.5rem; }
        h4 { font-size: 1.2rem; margin-top: 0; margin-bottom: 1rem; }
        p { margin-top: 0; margin-bottom: 1rem; }
        b, strong { font-weight: 700; }
        pre {
            background-color: var(--color-bg-navy-light); /* light navy background */
            border: 1px solid #e3e8f0; /* slightly darker border */
            padding: 1.5rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 1.5rem; /* Consistent margin-bottom */
            margin-top: 1.5rem; /* Consistent margin-top for pre tags inside sub-cards */
        }
        /* Remove top margin if pre is the first element inside sub-card */
        .sub-card > pre:first-child {
            margin-top: 0;
        }


        /* 3. Layout & Components */
        .container {
            max-width: 900px; /* Adjusted to 900px as per V3 prompt */
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .header p {
            font-size: 1.125rem;
            color: var(--color-text-secondary);
            max-width: 800px;
            margin: 0 auto;
        }
        .section-title {
            text-align: center;
            margin: 4rem 0 2rem 0;
        }
        hr {
            border: none;
            border-top: 1px solid var(--color-border);
            margin: 4rem auto;
        }

        /* Card System */
        .card {
            border: 1px solid var(--color-border);
            border-radius: 0.75rem;
            padding: 2.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.07);
        }
        /* Conceptual Card specific styling */
        .conceptual-card {
            background-color: var(--color-bg-subtle); /* light gray background */
        }
        /* Detail Card specific styling */
        .sub-card {
            background-color: var(--color-bg-white); /* white background */
            border: 1px solid #e9ecef; /* lighter border for inner cards */
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem; /* Margin between inner cards */
            box-shadow: 0 2px 4px rgba(0,0,0,0.02); /* subtle shadow, no hover */
            transition: none; /* No hover animation for sub-cards */
            display: block; /* ensure it breaks line if needed */
        }
        /* No top margin if sub-card is the first child */
        .conceptual-card > .sub-card:first-child {
            margin-top: 0;
        }
        .sub-card p, .sub-card ul, .sub-card ol, .sub-card table {
            margin-bottom: 0; /* Remove bottom margin from last child elements */
        }
        .sub-card ul, .sub-card ol {
            padding-left: 20px;
        }
        .sub-card li {
            margin-bottom: 0.5rem;
        }
        .sub-card li:last-child {
            margin-bottom: 0;
        }
        /* Table styling for example-table */
        table.example-table {
            width: 100%;
            text-align: center;
            border-collapse: collapse;
            margin-top: 1.5rem; /* Consistent margin-top */
            margin-bottom: 0; /* Handled by .sub-card p/ul/ol */
        }
        table.example-table th, table.example-table td {
            border: 1px solid var(--color-border);
            padding: 8px;
        }
        table.example-table th {
            background-color: #e9ecef;
        }

        /* Formula specific styling */
        .formula {
            font-size: 1.1rem;
            text-align: center;
            padding: 1rem 0;
            background-color: #f5f7fa; /* same as pre for consistency */
            border: 1px solid #e3e8f0;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            overflow-x: auto;
        }

        /* Image container for basic image styling */
        .image-container {
            text-align: center;
            margin: 1.5rem 0;
        }
        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            border: 1px solid var(--color-border);
        }
        .footer-section {
            margin-top: 2rem;
            text-align: center;
            color: var(--color-text-secondary);
        }
        .footer-section a {
            color: #007bff;
            text-decoration: none;
        }
        .footer-section a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <main class="container">
        <header class="header">
            <h1>유사도 (Similarity)란</h1>
            <p><strong>유사도(Similarity)</strong>는 두 데이터 객체가 얼마나 서로 비슷한지를 나타내는 척도입니다.<br> 0과 1 사이의 값으로 표현되며, 값이 1에 가까울수록 두 데이터가 매우 비슷하다는 의미입니다.<br>유사도는 추천 시스템, 텍스트 마이닝, 이미지 검색 등 다양한 분야에서 사용됩니다.</p>
        </header>

        <div class="section-title">
            <h2>대표적인 유사도 측정 방법</h2>
        </div>

        <section class="card conceptual-card">
            <h3>1. 코사인 유사도 (Cosine Similarity)</h3>
            <p><strong>코사인 유사도</strong>는 두 벡터 사이의 <b>방향</b>이 얼마나 비슷한지를 측정합니다.<br> 벡터의 크기보다는 방향에 초점을 맞추기 때문에, 주로 문서나 텍스트 데이터의 유사도를 계산하는 데 널리 사용됩니다.</p>
            <div class="sub-card">
                <h4>핵심 개념</h4>
                <ul>
                    <li>두 벡터가 이루는 각도의 코사인 값.</li>
                    <li>두 벡터의 방향이 완전히 같으면 1, 90°의 각을 이루면 0, 완전히 반대 방향이면 -1의 값을 가집니다.</li>
                </ul>
            </div>
            <div class="sub-card">
                <h4>계산</h4>
                <p>두 벡터의 내적을 각각의 크기(노름)의 곱으로 나눕니다.</p>
                <div class="formula">
                    $$ \text{Cosine Similarity} = \frac{A \cdot B}{\|A\| \|B\|} $$
                </div>
            </div>
            <div class="sub-card">
                <h4>예시</h4>
                <p>"나는 사과가 좋다"와 "나는 사과가 정말 좋다"라는 두 문장은 단어의 개수(벡터의 크기)는 다르지만, <br>'사과'와 '좋다'는 방향성이 같으므로 코사인 유사도가 높게 나옵니다.</p>
            </div>
        </section>

        <section class="card conceptual-card">
            <h3>2. 자카드 유사도 (Jaccard Similarity)</h3>
            <p><strong>자카드 유사도</strong>는 두 집합이 얼마나 많은 요소를 공유하는지를 측정합니다.<br> 주로 집합 데이터 간의 유사성을 비교하는 데 사용되며, 결과는 0과 1 사이의 값을 가집니다.</p>
            <div class="sub-card">
                <h4>핵심 개념</h4>
                <p>두 집합의 교집합(공통된 원소)의 크기를 합집합(전체 원소)의 크기로 나눈 값입니다.</p>
                <div class="formula">
                    $$ \text{Jaccard Similarity} = \frac{|A \cap B|}{|A \cup B|} $$
                </div>
            </div>
            <div class="sub-card">
                <h4>예시</h4>
                <ul>
                    <li>A의 장바구니: {사과, 바나나, 우유}</li>
                    <li>B의 장바구니: {사과, 빵, 우유}</li>
                    <li>교집합(공통 상품): {사과, 우유} (2개)</li>
                    <li>합집합(전체 상품): {사과, 바나나, 우유, 빵} (4개)</li>
                    <li>자카드 유사도 = 2 / 4 = 0.5</li>
                </ul>
            </div>
        </section>

        <section class="card conceptual-card">
            <h3>3. 유클리드 거리 (Euclidean Distance)와 유사도</h3>
            <p><strong>유클리드 거리</strong>는 두 점 사이의 <b>직선 거리</b>를 측정하는 가장 일반적인 방법입니다.<br> 거리가 가까울수록 두 데이터가 비슷하다고 판단할 수 있으므로, 유사도를 계산하는 데 활용될 수 있습니다.</p>
            <div class="sub-card">
                <h4>핵심 개념</h4>
                <ul>
                    <li>좌표 공간상에서 두 점을 잇는 가장 짧은 거리.</li>
                    <li>각 차원별 차이의 제곱을 모두 더한 후 제곱근을 씌웁니다.</li>
                </ul>
            </div>
            <div class="sub-card">
                <h4>계산</h4>
                <div class="formula">
                    $$ d = \sqrt{\sum_{i=1}^{n} (q_i - p_i)^2} $$
                </div>
            </div>
            <div class="sub-card">
                <h4>유사도로의 변환 및 예시</h4>
                <ul>
                    <li>유클리드 거리는 값이 작을수록 유사하므로, 보통 `1 / (1 + 거리)` 와 같은 방식으로 변환하여 0과 1 사이의 유사도 값으로 사용합니다. 거리가 0이면 유사도는 1이 됩니다.</li>
                    <li>사용자의 평점 데이터를 좌표평면의 점으로 보고, 두 사용자 간의 거리를 계산하여 취향이 비슷한 사용자를 찾는 데 사용할 수 있습니다.</li>
                </ul>
            </div>
        </section>

        <hr>

        <div class="section-title">
            <h2>문장 유사도 분석: 실제 계산 예시</h2>
        </div>
        
        <section class="card conceptual-card">
            <h3>1단계<br>문장을 벡터로 변환 (Bag-of-Words)</h3>
            <p>먼저 각 문장에 특정 단어가 몇 번 나타나는지를 세어 숫자 벡터로 만듭니다. 여기서 단어 주머니(Vocabulary)는 <strong>{love, apple, delicious, ...}</strong> 라고 가정합니다.</p>
            <div class="sub-card">
                <table class="example-table">
                    <thead>
                        <tr>
                            <th>문장</th>
                            <th>내용</th>
                            <th>벡터 (Vector)</th>
                            <th>크기 (Magnitude)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>I <strong>love</strong> <strong>apple</strong>.</td>
                            <td>[1, 1, 0, ...]</td>
                            <td>$$ \sqrt{1^2 + 1^2} = \sqrt{2} $$</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><strong>Apple</strong> is <strong>delicious</strong> which I <strong>love</strong> too.</td>
                            <td>[1, 1, 1, ...]</td>
                            <td>$$ \sqrt{1^2 + 1^2 + 1^2} = \sqrt{3} $$</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>I want a <strong>delicious</strong> food, but not an <strong>apple</strong>.</td>
                            <td>[0, 1, 1, ...]</td>
                            <td>$$ \sqrt{0^2 + 1^2 + 1^2} = \sqrt{2} $$</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Deep learning is difficult.</td>
                            <td>[0, 0, 0, ...]</td>
                            <td>$$ \sqrt{0} = 0 $$</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="card conceptual-card">
            <h3>2단계<br>코사인 유사도 계산</h3>
            <p>벡터화된 문장들을 바탕으로 코사인 유사도 공식을 적용하여 실제 유사도 점수를 계산합니다.</p>
            
            <div class="sub-card">
                <h4>[1, 2]: 1번 문장 vs 2번 문장</h4>
                <ul>
                    <li><b>분자 (내적)</b><br>(1 * 1) + (1 * 1) + (0 * 1) = 2</li>
                    <li style="margin-top:1rem;"><b>분모 (크기의 곱)</b><br>$$ \sqrt{2} \times \sqrt{3} = \sqrt{6} $$</li>
                </ul>
                <div class="formula">
                    $$ \cos(\theta) = \frac{2}{\sqrt{6}} \approx 0.816 $$
                </div>
                <p>➡️ <b>결론</b> 점수가 1에 가까워 매우 유사하다고 판단합니다.</p>
            </div>
            <div class="sub-card">
                <h4>[2, 4]: 2번 문장 vs 4번 문장</h4>
                <ul>
                    <li><b>분자 (내적)</b><br>(1 * 0) + (1 * 0) + (1 * 0) = 0</li>
                    <li style="margin-top:1rem;"><b>분모 (크기의 곱)</b><br>$$ \sqrt{3} \times 0 = 0 $$</li>
                </ul>
                <div class="formula">
                    $$ \cos(\theta) = \frac{0}{\sqrt{3}} = 0 $$
                </div>
                <p>➡️ <b>결론</b> 점수가 0이므로 전혀 유사하지 않다고 판단합니다.</p>
            </div>
            <div class="sub-card">
                <h4>[1, 3]: 1번 문장 vs 3번 문장</h4>
                <ul>
                    <li><b>분자 (내적)</b><br>(1 * 0) + (1 * 1) + (0 * 1) = 1</li>
                    <li style="margin-top:1rem;"><b>분모 (크기의 곱)</b><br>$$ \sqrt{2} \times \sqrt{2} = 2 $$</li>
                </ul>
                <div class="formula">
                    $$ \cos(\theta) = \frac{1}{2} = 0.5 $$
                </div>
                <p>➡️ <b>결론</b> 'apple' 단어만 겹쳐 0.5의 유사도를 가집니다. 어느 정도 관련은 있지만, [1, 2] 경우보다는 유사도가 낮다고 해석할 수 있습니다.</p>
            </div>
        </section>

        <hr>

        <div class="section-title">
            <h2>또 다른 거리 척도<br>레벤슈타인 거리</h2>
        </div>
        <section class="card conceptual-card">
            <h3>4. 레벤슈타인 거리 (Levenshtein Distance)</h3>
            <p><strong>레벤슈타인 거리</strong>는 두 문자열(단어 또는 문장)이 얼마나 다른지를 측정하는 '편집 거리(Edit Distance)'의 한 종류입니다.<br>이 값은 유사도가 아니라 <b>'거리'</b>이므로, <b>값이 작을수록 두 문자열이 더 비슷하다는 의미입니다.</b></p>
            <div class="sub-card">
                <h4>핵심 개념</h4>
                <ul>
                    <li>문자열 A를 문자열 B로 바꾸기 위해 필요한 <b>최소한의 편집 횟수</b>를 계산합니다.</li>
                    <li style="margin-top:1rem;"><b>세 가지 연산</b>
                        <ul>
                            <li><b>삽입 (Insertion)</b><br>문자를 추가하는 연산</li>
                            <li><b>삭제 (Deletion)</b><br>문자를 제거하는 연산</li>
                            <li><b>변경 (Substitution)</b><br>한 문자를 다른 문자로 바꾸는 연산</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="sub-card">
                <h4>"가나다"와 "가다라" 사이의 거리 계산 예시</h4>
                <ol>
                    <li>"가<b>나</b>다"에서 '나'를 '다'로 <b>변경</b>합니다. → "가<b>다</b>다" (비용: 1)</li>
                    <li>"가다<b>다</b>"에서 마지막 '다'를 '라'로 <b>변경</b>합니다. → "가다<b>라</b>" (비용: 1)</li>
                </ol>
                <p>➡️ <b>결론</b> 총 2번의 '변경' 연산이 필요했으므로, "가나다"와 "가다라"의 레벤슈타인 거리는 <b>2</b>입니다.</p>
            </div>
            <div class="sub-card">
                <h4>어디에 사용될까요?</h4>
                <div class="image-container">
                    
                </div>
                <ul>
                    <li><b>철자 교정기</b><br>'aple'을 입력했을 때 거리가 1인 'apple'을 추천합니다.</li>
                    <li><b>검색 엔진</b><br>오타를 입력해도 "이것을 찾으셨나요?"라며 비슷한 단어를 제안합니다.</li>
                    <li><b>DNA 염기서열 분석</b><br>두 DNA 시퀀스가 얼마나 유사한지 비교하는 데 사용됩니다.</li>
                </ul>
            </div>
        </section>
        
        <hr>

        <div class="section-title">
            <h2>출처 및 참고 자료</h2>
            <a href="https://www.youtube.com/watch?v=9ea7Ja52ezQ" target="_blank">메타코드M : 딥러닝 자연어처리 유사도 분석을 18분만에 정리해드립니다</a>
        </div>
    </main>
</body>
</html>